using System;
using System.ComponentModel;
using System.Threading;
using System.Web;
using SubSonic;

// <auto-generated />

namespace Vietbait.Lablink.Model
{
    /// <summary>
    ///     Controller class for tbl_ManagementUnit
    /// </summary>
    [DataObject]
    public class TblManagementUnitController
    {
        // Preload our schema..
        private TblManagementUnit thisSchemaLoad = new TblManagementUnit();
        private string userName = String.Empty;

        protected string UserName
        {
            get
            {
                if (userName.Length == 0)
                {
                    if (HttpContext.Current != null)
                    {
                        userName = HttpContext.Current.User.Identity.Name;
                    }
                    else
                    {
                        userName = Thread.CurrentPrincipal.Identity.Name;
                    }
                }
                return userName;
            }
        }

        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public TblManagementUnitCollection FetchAll()
        {
            var coll = new TblManagementUnitCollection();
            var qry = new Query(TblManagementUnit.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }

        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public TblManagementUnitCollection FetchByID(object PkSBranchID)
        {
            TblManagementUnitCollection coll =
                new TblManagementUnitCollection().Where("PK_sBranchID", PkSBranchID).Load();
            return coll;
        }

        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public TblManagementUnitCollection FetchByQuery(Query qry)
        {
            var coll = new TblManagementUnitCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }

        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object PkSBranchID)
        {
            return (TblManagementUnit.Delete(PkSBranchID) == 1);
        }

        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object PkSBranchID)
        {
            return (TblManagementUnit.Destroy(PkSBranchID) == 1);
        }


        /// <summary>
        ///     Inserts a record, can be used with the Object Data Source
        /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
        public void Insert(string PkSBranchID, string SName, string SParentBranchName, string FpSUpBranchID,
            int? IntLevel, string SAddress, string SPhone, string SBussinessPhone, string SHotPhone, string SDutyPhone,
            string SFAX, string SEMAIL, string STaxCode, string SAccountID, string SRepresentative, string SPosition,
            string SProxyNumber, DateTime? TDateMandate, string SMandateUnitName, string SMandateUnitAddress,
            DateTime? TInvalidDate, DateTime? TInputDate, string STyper, string SBankCode, string SLandSurveyUnitCode)
        {
            var item = new TblManagementUnit();

            item.PkSBranchID = PkSBranchID;

            item.SName = SName;

            item.SParentBranchName = SParentBranchName;

            item.FpSUpBranchID = FpSUpBranchID;

            item.IntLevel = IntLevel;

            item.SAddress = SAddress;

            item.SPhone = SPhone;

            item.SBussinessPhone = SBussinessPhone;

            item.SHotPhone = SHotPhone;

            item.SDutyPhone = SDutyPhone;

            item.SFAX = SFAX;

            item.SEMAIL = SEMAIL;

            item.STaxCode = STaxCode;

            item.SAccountID = SAccountID;

            item.SRepresentative = SRepresentative;

            item.SPosition = SPosition;

            item.SProxyNumber = SProxyNumber;

            item.TDateMandate = TDateMandate;

            item.SMandateUnitName = SMandateUnitName;

            item.SMandateUnitAddress = SMandateUnitAddress;

            item.TInvalidDate = TInvalidDate;

            item.TInputDate = TInputDate;

            item.STyper = STyper;

            item.SBankCode = SBankCode;

            item.SLandSurveyUnitCode = SLandSurveyUnitCode;


            item.Save(UserName);
        }

        /// <summary>
        ///     Updates a record, can be used with the Object Data Source
        /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
        public void Update(string PkSBranchID, string SName, string SParentBranchName, string FpSUpBranchID,
            int? IntLevel, string SAddress, string SPhone, string SBussinessPhone, string SHotPhone, string SDutyPhone,
            string SFAX, string SEMAIL, string STaxCode, string SAccountID, string SRepresentative, string SPosition,
            string SProxyNumber, DateTime? TDateMandate, string SMandateUnitName, string SMandateUnitAddress,
            DateTime? TInvalidDate, DateTime? TInputDate, string STyper, string SBankCode, string SLandSurveyUnitCode)
        {
            var item = new TblManagementUnit();
            item.MarkOld();
            item.IsLoaded = true;

            item.PkSBranchID = PkSBranchID;

            item.SName = SName;

            item.SParentBranchName = SParentBranchName;

            item.FpSUpBranchID = FpSUpBranchID;

            item.IntLevel = IntLevel;

            item.SAddress = SAddress;

            item.SPhone = SPhone;

            item.SBussinessPhone = SBussinessPhone;

            item.SHotPhone = SHotPhone;

            item.SDutyPhone = SDutyPhone;

            item.SFAX = SFAX;

            item.SEMAIL = SEMAIL;

            item.STaxCode = STaxCode;

            item.SAccountID = SAccountID;

            item.SRepresentative = SRepresentative;

            item.SPosition = SPosition;

            item.SProxyNumber = SProxyNumber;

            item.TDateMandate = TDateMandate;

            item.SMandateUnitName = SMandateUnitName;

            item.SMandateUnitAddress = SMandateUnitAddress;

            item.TInvalidDate = TInvalidDate;

            item.TInputDate = TInputDate;

            item.STyper = STyper;

            item.SBankCode = SBankCode;

            item.SLandSurveyUnitCode = SLandSurveyUnitCode;

            item.Save(UserName);
        }
    }
}